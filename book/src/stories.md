# Generation de lieux.

## Base: Architecture sur base d'un concept fonctionnel.
On a un lieu que l'on veut construire comme un metro ou des égouts. Il y a donc une logique dans la façon dont il est construit et comment on circule selon la fonction du lieu.

## Layer : Evenements dans le temps : historique des lieux.
Bien qu'un lieu a une raison fonctionnelle d'exister en théorie (coucou corruption), des évènements peuvent alterer la raison d'être d'origine.
Ce layer produit ou non des évènements à differents stades de l'histoire du lieu ce qui peut provoquer des changements à sa forme.
On commence par la phase de construction : un evènement pourrait dire que finalement les financements sont coupés et la construction du metro a été interrompu. Ou seulement en partie.
Ces évènements sont testés plusieurs fois, et certains peuvent être le passage de phase de construction à phase d'exploitation etc.
Ces évènements peuvent être exterieurs: Attaque terroriste, catastrophe climatique, etc.
C'est important que ces évènements soient associés au lieu en lui-même, c'est à dire son emplacement physique, et non ce qu'il devait être au départ (un metro, des égouts). Cela permets d'avoir un lieu qui devait être un Metro et est finalement devenu, entièrement ou partiellement, un entrepot ou un laboratoire par exemple (Rachat par Mega corpo etc).
C'est ce Layer qui determine quels autres layers vont être joués pour faire "progresser" le Lieu.
Les évènements sont des évènements de construction: il y a eu des travaux, puis le lieu a été ouvert au public, puis il a été abandonné, puis il a été racheté pour construire autre chose.
On note aussi que ces évènements peuvent arrivés après la création de map : les actions du joueur peuvent provoquer un évènement qui altera le lieu et fera parti de son histoire.

## Layer : Zones fonctionnelles au sein du lieu.
La fonction du lieu est assurée par plein d'élements : les égouts ont des purificateurs d'eau, des salles de surveillance, des salles d'outillage pour les ouvriers, etc. 
Ce layer s'assure de placer des zones interressantes en cohérence avec la Base.
Chacune de ces zones peut avoir des conditions de placement (de l'eau pour les purificateurs) qu'elles peuvent eventuellement créées elles-mêmes pour exister (on ajoute alors de l'eau pour placer le Purificateur).

## Layer : Etat des lieux.
Ce layer determine si le lieu est au début de sa construction, en pleine usage, en restauration, à l'abandon.
Cela a pour effet de rajouter des élements propres à la situation (Des zones de chantier) ou de les retirer / vieillir / dégrader.
Ces modifications peuvent se faire au niveau des zones et non au niveau, une partie du metro peut donc être en chantier et l'autre abandonnée.

## Layer : Niveau social.
Ce Layer determine à quelle(s) population(s) ce lieu ou les zones de ce lieu sont déstinés. 
Cela se determine au travers des évènements : les lieux abandonnés sont squatés par les pauvres, les lieux pour riches ont tendance à être mis en place dans une logique séparatiste / surprotection contre les pauvres. Ces lieux peuvent aussi être reservés à une élite ou des citoyens corporatistes précis.

## Layer : Appropriation des lieux par la population.
Parmi les évènements, il y a le fait que des populations fréquentent le lieu. La géneration du lieu doit donc y laisser des traces de vie.
Ces traces de vie sont remplacées par de nouvelles traces au fur et à mesure que la population change: graffiti, publicité, etc.
A la fin, ce layer permets de placer les premiers NPC "vie de tous les jours" du lieu.

## Layer : Appropriation par les factions en cohérence avec la mission.
Comme à la fin il s'agit d'y accomplir des missions et des aventures, on y place les antagonistes à la fin.
On essait de les positionner en accord avec la mission et leurs personnalités: protection d'une personne importante, attaque d'une zone particulière, etc.






